<!DOCTYPE HTML>
<html>
   <head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
    
     <title >eRx Express</title>
     <link rel="stylesheet" href="main.css" type="text/css" />

      <script type="text/javascript" src="jquery.min.js"></script>
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.4.3.min.js"></script>
  

<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />
  <!-- <script src="http://code.jquery.com/jquery-1.9.1.js"></script> -->
  <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
  <!--<link rel="stylesheet" href="/resources/demos/style.css" /> -->
 
  <script type="text/javascript">
      $(function () {
          $("#selectable").selectable();
      });
  </script>
   
              
       <script type="text/javascript">
       
           /*
           async: true,
        type: "GET",
        contentType: "application/json; charset=utf-8",
        url: "../../Services/RunningBarbusService.svc/GetTeamData",
        dataType: "json",
        data: '{"teamId":"' + teamId + '", "weekNumber":"' + weekNumber + '"}',
        success: function (content) {
            DisplayRun(map, content);
        }
*/
    </script>    

    <style type="text/css">
         /* body {overflow:hidden; } */
    </style>

  </head>


  <body onload="pageInit();" class="body">

      <!-- ------------------------------------------------- -->
      <!-- Area used to hide inactive screen elements -->
      <!-- ------------------------------------------------- -->
      <div class="maskArea" id="pageMask">
          some text
      </div>
      

      <!-- ------------------------------------------------- -->
      <!-- Login page -->
      <!-- ------------------------------------------------- -->
      <div class="popUpPage" id="pageLogin"> 
        <div class="dialogWindow" style="width:350px;">
            <!-- -display: inline-block;   alternative to centre div -->
                 
            <span class="pageTitle">Sign In</span>
            
            <span class="pageText">Username </span>
            <input type="text" id="loginUsername" value="paul.naismith" style="width:200px; position:relative; left:10px;"  />
            <br /><br />
                 
            <span class="pageText">Password</span> 
            <input type="password" id="loginPassword" value="sdfhsdfsdhfk" style="width:200px;position:relative; left:10px;"" />
            <br />
            <br />
            <input type="button" id="loginOk" class="dialogButton" value="Ok" />
            <input type="button" id="loginCancel" class="dialogButton" value="Cancel" />
            <br /><br />
        </div>
      </div>


      <!-- ------------------------------------------------- -->
      <!-- ------------------------------------------------- -->
      <div id="header" class="header">
            <!-- <img id="logo" src="https://portalvhdsh8lgrj68ld12q.blob.core.windows.net/androidimages/eRxExpress.jpg"/>  -->
            <img alt="" id="logo" src="images/eRxExpress.jpg" style="height:30px;cursor: pointer;"/>
            <!--
            <span class="eRxGreen" style="font-size:32pt;">e</span>
            <span class="eRxBlue" style="font-size:32pt;">Rx</span>
            <span class="eRxGreen" style="">></span>
            <span class="eRxBlue" style="font-style:italic; font-weight:bold;">EXPRESS</span>
            -->
            <button id="signIn" class="accountButton" style="position:absolute; margin-right:4px;">Sign In</button>
            <button id="signOut" class="accountButton" style="position:absolute; visibility:hidden;">Sign Out</button>
      </div>

      
      <div id="background" class="backgroundImage">
      </div>

      <div id="content" class="content">
          
         <!-- ------------------------------------------------- -->
         <!-- ------------------------------------------------- -->
      
           <div class="contentArea" id="pageHome">
               
               <div id="homeTopAd">
                   <img id="homeTopImage" src="images/priceline-logo.jpg" style=""/> 
                   <br />
               </div>
               
             <span class="pageTitleText" style="font-size:18pt;">Welcome to eRx eXpress
                 <br />
             </span>

             
             <div style="width:70%; margin-left:auto; margin-right:auto; padding-top:30px;">

                <span class="pageText">
                     Please scan the QR code to select your drugs and send a request to a pharmacy for pick-up.
                 </span>
                 <br /><br />
              </div>
              
               <div>
                 <input type="button" id="scanCode" class="actionButton" value="Scan Code"/>
               </div>

                 <input type="button" id="getScriptId" class="actionButton" value="Get Script Detail" style="visibility:hidden;"/>

               <div>
                    <input type="button" id="selectDrug" class="actionButton" value="Select Drugs" style="visibility:hidden;"/>
                </div>

                 <div style="margin-top:30px; color:black; text-align:center; font-family:Verdana,Arial; font-size:10pt; ">
                    <span id="InfoSCID"></span><br />
                    <span id="InfoScriptId"></span>
                  </div>

               <!--
               <div id="Div1">
                   <img id="Img1" src="images/codral.jpg" style="width:100%;"/>
                   <br />
               </div>
               -->

          </div>


         <!-- ------------------------------------------------- -->
         <!-- ------------------------------------------------- -->

      
         <div class="contentArea2" id="pageDrug">    

             <span class="pageTitle">Select Drug</span>

                <ol id="selectable" style="text-align:right;">
                  <li class="ui-widget-content"><b>Panadol</b> 20 mg</li>
                  <li class="ui-widget-content">Item 2</li>
                  <li class="ui-widget-content">Item 3</li>
                  <li class="ui-widget-content">Item 4</li>
                  <li class="ui-widget-content">Item 5</li>
                  <li class="ui-widget-content">Item 6</li>
                  <li class="ui-widget-content">Item 7</li>

                  <li class="ui-widget-content">Item 8</li>
                  <li class="ui-widget-content">Item 9</li>
                  <li class="ui-widget-content">Item 10</li>
                    <li class="ui-widget-content">Item 11</li>
                  <li class="ui-widget-content">Item 12</li>
                  <li class="ui-widget-content">other</li>
                </ol>

         
              <br />
              <input type="button" id="selDrugOk" class="okButton" value="Continue" />
              <input type="button" id="selDrugCancel" class="cancelButton" value="Back" />

         </div>

         <!-- ------------------------------------------------- -->
         <!-- ------------------------------------------------- -->

          <div class="contentArea" id="pagePharmacy">    
              <span class="pageTitle">Select Pharmacy</span>
         
              <br />

              <div style="background-color:white; width:80%; text-align:left;  border: 1px solid silver; margin-left:10%; padding:1px;">
              
                       <div style="background-color:#597bc3;padding-left:5px;">
                           <span class="pageText" style="font-size:12pt; font-weight:normal; color:white">
                                Ascot Vale Pharmacy
                           </span>
                      </div>

                      <div style="background-color:white; padding-left:5px;">
                                  <span class="pageText" style="font-size:12pt;">
                                Priceline Pharmacy
                           </span>
                      </div>
                      <div style="background-color:white; padding-left:5px;">
                          <span class="pageText" style="font-size:12pt;">
                                Terry White Pharmacy
                           </span>
                      </div>
                       <div style="background-color:white; padding-left:5px;">
                           <span class="pageText" style="font-size:12pt;">
                                Amcal Pharmacy
                           </span>
                      </div>
          
              </div>
    
              <br />
         
             <input type="button" id="selPharmacyOk" class="okButton" value="Continue" />
             <input type="button" id="selPharmacyCancel" class="cancelButton" value="Back" />
         </div>

         <!-- ------------------------------------------------- -->
         <!-- ------------------------------------------------- -->

      
         <div class="contentArea" id="pageConfirm">    
         
             <span class="pageTitle">Confirm Request</span>

             <div style="height:30px;"></div>

             <span class="pageText" style="width:120px;">Message to Pharmacy</span><br />
             <textarea class="message" id="mesage" cols="25" rows="4">hand over the drugs please</textarea>
             <br />
             <br />
             <span class="pageText">Pickup Date</span> <br />
             <input type="text" id="pickupDate" value="8 May 2013" style="width:80px;" />
              <br />
             <br />
             <span class="pageText">Pickup Time&nbsp;</span><br />
              <input type="text" id="pickupTime" value="2:30pm" style="width:80px;" />
              <br />
              <br />
              <input type="button" id="confirmOk" class="okButton" value="Submit" />
              <input type="button" id="confirmCancel" class="cancelButton" value="Back" />

         </div>

         <!-- ------------------------------------------------- -->
         <!-- ------------------------------------------------- -->

          <div class="contentArea" id="pageCompleted">    
         
             <span class="pageTitle">Request sent</span>

             <div style="height:30px;"></div>

             <span class="pageText" style="width:120px;">Your request hase been sent to the following pharmacy:<br />
                 <br />
                 <b>Ascot Vale Pharmacy</b><br /><br />
                 67-69 Union Rd<br />
                 ASCOT VALE VIC 3032 <br />
               
                 <br />
                 Pickup: 8 May 2013 2:30pm<br />
                 <br />
              </span>
              
              <div style="vertical-align: top;">
                        <iframe id="pharmacyMap" style="margin:0;" width="350" height="270" " scrolling="no" marginheight="0" marginwidth="0" style="color: black; text-align: right;" 
                         src="">                                                    
                        
                        </iframe>
<!--
    src="http://maps.google.com.au/maps?f=q&amp;source=s_q&amp;hl=en&amp;geocode=&amp;q=67-69 Union Rd, ASCOT VALE VIC 3032,Victoria&amp;aq=0&amp;&amp;ie=UTF8&amp;hq=&amp;hnear=67-69 Union Rd, ASCOT VALE VIC 3032&amp;z=14&amp;&amp;output=embed">                                                    

    src="http://maps.google.com.au/maps?f=q&amp;source=s_q&amp;hl=en&amp;geocode=&amp;q=5+Little+Bridge+Street,+Bakery+Hill,+Victoria&amp;aq=0&amp;sll=-37.563188,143.861756&amp;sspn=0.00239,0.004823&amp;ie=UTF8&amp;hq=&amp;hnear=5+Little+Bridge+St,+Ballarat+Victoria+3350&amp;z=14&amp;ll=-37.562964,143.860982&amp;output=embed">
                        <br />
                        <small><a href="http://maps.google.com.au/maps?f=q&amp;source=embed&amp;hl=en&amp;geocode=&amp;q=5+Little+Bridge+Street,+Bakery+Hill,+Victoria&amp;aq=0&amp;sll=-37.563188,143.861756&amp;sspn=0.00239,0.004823&amp;ie=UTF8&amp;hq=&amp;hnear=5+Little+Bridge+St,+Ballarat+Victoria+3350&amp;z=14&amp;ll=-37.562964,143.860982">
                        View Larger Map</a></small>
-->
               </div>

              <br />
              Add to Calender<br />
              Send Email<br />
              Share
      
         </div>

         <!-- ------------------------------------------------- -->
         <!-- ------------------------------------------------- -->
      
          <div class="contentArea" id="pageSettings">    
              <span class="pageTitle">Settings</span>

              <br />
              <br />
              <br />
              <input type="button" id="settingsClose" class="dialogButton" value="Back" />
         </div>

         <!-- ------------------------------------------------- -->
         <!-- ------------------------------------------------- -->
     </div> 
         
     <div id="footer" class="footer">
        <button id="optNew" class="optionButton">New Script</button>
        <button id="optHistory" class="optionButton" style="position:relative; left:100px;">History</button>
        <button id="optSetting" class="optionButton" style="position:absolute; right:0px;">Settings</button>
     </div>

      <!-- Use JAVASCRITPT object ??????? -->

      <!-- variables -------------------------- --> 
      <input type="button" style="visibility:hidden" id="deviceId" value="12345" />
      <input type="button" style="visibility:hidden" id="SCID" value="12JVRJ4M5KYJ4DRV71" />
      <input type="button" style="visibility:hidden" id="ScriptId" value="41" />
       <!-- ----------------------------------- --> 
     
      <!-- ----------------------------------- --> 
      <!-- ----------------------------------- --> 
    
    <script type="text/javascript">

        var themeId = ""
        var pid_priceline = "priceline";
        var pid_twc = "twc";
        var pid_nova = "nova";

        var themeSettings = {};

        //ScannedSCID
        $("#scanCode").click(function (event) {
            ScanCode();
        });

        $("#getScriptId").click(function (event) {
            GetScriptId();
        });

        $("#getScriptDetails").click(function (event) {
            GetScriptDetails();
        });

        function ScanCode() {
            // show scanned SCID, ID

            hideElement("InfoSCID");
            hideElement("InfoScriptId");

            $("#InfoSCID").text('Script: ' + $('#SCID').val());
            $("#InfoScriptId").text('Id: ' + $('#ScriptId').val());

            $("#scanCode").text('Id: ' + $('#ScriptId').val());
            hideElement("scanCode");
            showElement("selectDrug");
        }


        function GetScriptId() {

            alert("Get Script Id for " + $('#deviceId').val() + " " + $('#SCID').val());

            $.ajax({
                type: "GET",
                async: "false",
                //url: "http://6082ade8bf5f4339aa46229bed13fa85.cloudapp.net/erxExpressService.svc/RequestScript",
                // data: '{"deviceId":"' + $('#deviceId').val() + '", "scriptID":"' + $('#SCID').val() + '"}',
                //data: 'deviceId=' + $('#deviceId').val() + '&scriptID=' + $('#SCID').val(),
                // url: "http://6082ade8bf5f4339aa46229bed13fa85.cloudapp.net/erxExpressService.svc/RequestScript?deviceId=12345&scriptID=124423",
                url: "http://6082ade8bf5f4339aa46229bed13fa85.cloudapp.net/erxExpressConsumer/GetScriptData/?deviceId=ryanmoore-lap&QueueId=3",
                data: {},
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                // processData: true,
                success: function (msg) {
                    AjaxSucceeded(msg);
                },
                error: AjaxFailed
            });

            alert("done");
        }


        function GetScriptDetails() {

            alert("Get Script Details Id for " + $('#deviceId').val() + " " + $('#ScriptId').val());

            $.ajax({
                type: "GET",
                async: "false",
                url: "http://6082ade8bf5f4339aa46229bed13fa85.cloudapp.net/erxExpressService.svc/GetScriptData",
                data: '{"DeviceId":"' + $('#deviceId').val() + '", "ScriptID":"' + $('#ScriptId').val() + '"}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    AjaxSucceeded(msg);
                },
                error: AjaxFailed
            });

            alert("done");
        }

        function AjaxSucceeded(result) {
            alert(result.d);
        }

        function AjaxFailed(result) {
            alert('Failed: ' + result.status + ' ' + result.statusText);
        }

        // -----------------------------------------

        function initPharmacyMap() {


            // $('#pharmacyMap',window.parent.document).attr('src', $('#pharmacyMap',window.parent.document).attr('src'));
            
            
            var currSrc = $("#pharmacyMap").attr("src");
            currSrc = 'http://www.google.com.au';

            // $('#pharmacyMap',window.parent.document).attr('src', currSrc);
            $('#pharmacyMap').attr('src', currSrc);

            // alert($("#pharmacyMap").attr("src"));

            // $("#pharmacyMap").attr("src", currSrc);

            var iFrame = $('#pharmacyMap');
            // iFrame.load(currSrc);

            // alert('1');
/*
            $('#pharmacyMap').attr('src', '');
            var lcMap
            lcMap = 'http://maps.google.com.au/maps?f=q&amp;source=s_q&amp;hl=en&amp;geocode=&amp;q=67-69 Union Rd, ASCOT VALE VIC 3032,Victoria&amp;aq=0&amp;&amp;ie=UTF8&amp;hq=&amp;hnear=67-69 Union Rd, ASCOT VALE VIC 3032&amp;z=14&amp;&amp;output=embed';
            lcMap = "http://maps.google.com.au/maps?f=q&amp;source=s_q&amp;hl=en&amp;geocode=&amp;q=67-69 Union Rd, ASCOT VALE VIC 3032,Victoria&amp;aq=0&amp;&amp;ie=UTF8&amp;hq=&amp;hnear=67-69 Union Rd, ASCOT VALE VIC 3032&amp;z=14&amp;&amp;output=embed";
            // $('#pharmacyMap').attr('src', lcMap);
            // $('#pharmacyMap').attr('src', 'http://maps.google.com.au/maps?f=q&amp;source=s_q&amp;hl=en&amp;geocode=&amp;q=67-69 Union Rd, ASCOT VALE VIC 3032,Victoria&amp;aq=0&amp;&amp;ie=UTF8&amp;hq=&amp;hnear=67-69 Union Rd, ASCOT VALE VIC 3032&amp;z=14&amp;&amp;output=embed');
            */
            /*
            $(function(){
                $('#trns').attr('transform', 'rotate(60,50,50)');
            });
            */

            // 'http://maps.google.com.au/maps?f=q&amp;source=s_q&amp;hl=en&amp;geocode=&amp;q=67-69 Union Rd, ASCOT VALE VIC 3032,Victoria&amp;aq=0&amp;&amp;ie=UTF8&amp;hq=&amp;hnear=67-69 Union Rd, ASCOT VALE VIC 3032&amp;z=14&amp;&amp;output=embed
        }


        
        function setOpacity(id, value)
        {
            
            return;

            $('#'+id).css('opacity', 'value/10');
            $('#'+id).css('filter', alpha(opacity=value));

            // opacity: value/10;   // 0.5
            // filter:alpha(opacity=value); /* For IE8 and earlier */
        }


        function setTheme(id) {

            themeId = id;

            
            switch (id)
            {
                case pid_priceline:
                    {
                        $('#homeTopAd').css('visibility', "visible");
                        // $('#homeTopImage').attr('src', 'url(images/priceline-logo.jpg)');
                        $('#banner').attr('src', 'url(images/priceline-logo.jpg)');
                        $('#background').css('background-image', 'url(images/priceline-logo.jpg)');
                        $('#background').css('background-position', 'bottom');
                        //$('#background').css('padding-top', '100%');
                        setOpacity('background', 30);
                        
                        $('.actionButton').css('background-color', 'white');
                        $('.actionButton').css('color', 'red');

                        $('.okButton').css('background-color', 'white');
                        $('.okButton').css('color', 'black');

                        $('.cancelButton').css('background-color', 'white');
                        $('.cancelButton').css('color', 'red');

                        break;
                    }


                case pid_nova:
                    {
                        $('#homeTopAd').css('visibility', "hidden");

                        // $('#background').css('background-image', 'url(images/nova_logo.png)');
                        $('#background').css('background-image', 'url()');
                        $('#background').css('background-position', 'bottom');
                        // $('#background').css('background-color', '#D81A62');
                        // $('#background').css('color', 'white');
                        setOpacity('backgroundImage', 90);
                        
                        //$('#background').css('padding-top', '100%');
                   

                        $('.actionButton').css('background-color', '#D81A62');
                        $('.actionButton').css('color', 'white');

                        $('.okButton').css('background-color', '#D81A62');
                        $('.okButton').css('color', 'white');

                        $('.cancelButton').css('background-color', '#D81A62');
                        $('.cancelButton').css('color', 'white');

                        break;
                    }

                case pid_twc:
                    {
                        $('#homeTopAd').css('visibility', "hidden");

                        $('#background').css('background-image', 'url(images/TWC.jpg)');
                        $('#background').css('background-position', 'bottom');
                        // $('#background').css('padding-top', '100%');
                        setOpacity('background', 30);

                        $('.actionButton').css('background-color', 'white');
                        $('.actionButton').css('color', '#8C93C7');

                        $('.okButton').css('background-color', 'white');
                        $('.okButton').css('color', '#8C93C7');

                        $('.cancelButton').css('background-color', 'white');
                        $('.cancelButton').css('color', '#8C93C7');

                        break;
                    }
                default:
                    break;
                    // 
        }


            // $('#signIn').css('visibility', 'hidden');
            // $('#footer').css('visibility', 'hidden');
        }


        function pageInit() {
            // hide_all_containers(1);

            hide_all_containers();
            // show_container("pageCompleted");
            // show_container("pageConfirm");

            // setTheme(pid_priceline);
            // setTheme(pid_nova);

            // ShowDrugs();

            // showElement("pageMask");
            // showElement("pageLogin");
            //$("#pageMask").css('visibility', "visible");
            //$("#pageLogin").css('visibility', "visible");
            //show_container("pageMask");
            show_container("pageLogin");
            
            
            // show_container("pagePharmacy");
            // show_container("pageConfirm");
            
        }

            function hide_container(id) {
                $("#" + id).fadeTo(100, 0);
                $("#" + id).hide();

                // $('#pageDrug').css('visibility', 'visible');
            }

            function show_container(id) {
                $("#" + id).fadeTo(200, 1);
            
            }

            function hideElement(id) {
                $('#' + id).css('visibility', 'hidden');
            }

            function showElement(id) {
                $('#' + id).css('visibility', 'visible');
            }


            function hide_all_containers(init) {

                if (init != 1) {
                    hide_container("pageHome");
                }
            
                hide_container("pageLogin");
                hide_container("pageDrug");
                hide_container("pagePharmacy");
                hide_container("pageConfirm");
                hide_container("pageCompleted");
                hide_container("pageSettings");

            }

            <!-- ------------------------------------------------------ -->

        
            $("#logo").click(function () {
                // homePage();    

                // alert(themeId);

                switch (themeId)
                {
                    case pid_priceline:
                        setTheme(pid_twc);
                        break;

                    case pid_twc:
                        setTheme(pid_nova);
                        break;

                    case pid_nova:
                        setTheme(pid_priceline);
                        break;

                    default:
                        setTheme(pid_priceline);
                        break;
                }
            });
        

            <!-- ------------------------------------------------------ -->

            $("#signIn").click(function () {
                hide_all_containers();

                // hide/grayout all other areas
                // put transparent panel on top

                show_container("pageLogin");

                // hideElement("signIn");
            });

            $("#loginCancel").click(function () {
                // alert('Cancel');
                hide_all_containers();
                show_container("pageHome");
                ShowElement("signIn");
            });

            $("#loginOk").click(function () {
                // alert('ok');
                hide_all_containers();

                // show_container("pageHome");
                //ShowElement("signOut");

                show_container("pageCompleted");

            });


            function clearScript() {

                $("#InfoSCID").text("");
                $("#InfoScriptId").text("");
            }
        
        
            $("#selDrugHome").click(function () {
                homePage();
            });

            function homePage() {
                hide_all_containers();
                clearScript();

                hideElement("selectDrug");
                showElement("scanCode");

                show_container("pageHome");
            }


            <!-- ----------------------------------------  -->

            $("#selectDrug").click(function () {
                ShowDrugs();
            });

            $("#selDrugHome").click(function () {
                homePage();
            });

            $("#selDrugOk").click(function () {
                hide_all_containers();
                show_container("pagePharmacy");
            });
        
            $("#selDrugCancel").click(function () {
                homePage();
            });

            function ShowDrugs() {
                hide_all_containers();
                show_container("pageDrug");
            }
        
            $("#selPharmacyOk").click(function () {
                hide_all_containers();
                show_container("pageConfirm");
            });

            $("#selPharmacyCancel").click(function () {
                hide_all_containers();
                show_container("pageDrug");
            });

            $("#confirmOk").click(function () {
                hide_all_containers();
                
                initPharmacyMap();
                show_container("pageCompleted");
                // show_container("pageLogin");
                
            });
        
            $("#confirmCancel").click(function () {
                hide_all_containers();
                show_container("pagePharmacy");
            });
        
            $("#completedOk").click(function () {
                homePage();
            });
        
    </script>

  </body>
</html>
