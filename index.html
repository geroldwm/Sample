 

<!DOCTYPE HTML>
<html>
   <head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width">
    
     <title >eRx Express</title>
     <link rel="stylesheet" href="main.css" type="text/css">
      <script type="text/javascript" src="jquery.min.js"></script>
<!--
       <script type="text/javascript" src="jquery.mobile-1.3.1.min.js"></script>
-->
    <link rel="stylesheet"  href="http://code.jquery.com/mobile/1.0a1/jquery.mobile-1.0a1.min.css" />
  <link rel="stylesheet" href="docs/_assets/css/jqm-docs.css" /> 
	<script src="http://code.jquery.com/jquery-1.4.3.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.0a1/jquery.mobile-1.0a1.min.js"></script> 
   
              
       <script type="text/javascript">
       
           /*
           async: true,
        type: "GET",
        contentType: "application/json; charset=utf-8",
        url: "../../Services/RunningBarbusService.svc/GetTeamData",
        dataType: "json",
        data: '{"teamId":"' + teamId + '", "weekNumber":"' + weekNumber + '"}',
        success: function (content) {
            DisplayRun(map, content);
        }
*/
    </script>    
  </head>


  <body onload="pageInit();" style="background-color:white;" class="theme">

          <div class="headerArea" style=" ">
              <img id="logo" src="https://portalvhdsh8lgrj68ld12q.blob.core.windows.net/androidimages/eRxExpress.jpg" style="width:55%;"/>
              <button id="signIn" class="accountButton" style="position:absolute;">Sign In</button>
              <button id="signOut" class="accountButton" style="position:absolute; visibility:hidden;">Sign Out</button>
          </div>


      <!-- variables -------------------------- --> 
      <input type="button" style="visibility:hidden" id="deviceId" value="12345" />
      <input type="button" style="visibility:hidden" id="SCID" value="12JVRJ4M5KYJ4DRV71" />
      <input type="button" style="visibility:hidden" id="ScriptId" value="41" />
      <!-- ----------------------------------- --> 
      
      <!-- ----------------------------------- --> 
       <div class="contentArea" id="pageHome">    
           
         <div style="height:30px;"></div>

         <span class="pageText" style="font-size:18pt;">Welcome to eRx eXpress<br />
             </span>

             
        <span class="pageText">
             Please scan the QR code to select your drugs and send a request to a pharmacy for pick-up.
             <br />
             </span>

           <br />

          <input type="button" id="scanCode" class="button" value="Scan Code" />
           <!--
          <input type="button" id="getScriptId" class="button" value="Get Script Detail" />
-->
          <input type="button" id="selectDrug" class="button" value="Select Drugs" style="visibility:hidden;"/>

        <div style="margin-top:30px; color:black; text-align:center; font-family:Verdana,Arial; font-size:10pt; ">
            <span id="InfoSCID"></span><br />
            <span id="InfoScriptId"></span>
         </div>
      </div>

      <!-- ----------------------------------- --> 

     <div class="contentArea" id="pageLogin">    
         <span class="pageTitle">Login</span>

         <div style="height:30px;"></div>
         <span class="pageText" style="width:120px;">User Name </span><input type="text" id="loginUsername" value="paul.naismith" style="width:150px;"  />
         <br />
         <br />
         <span class="pageText">Password&nbsp;</span> <input type="password" id="loginPassword" value="sdfhsdfsdhfk" style="width:150px;" />
          <br />
          <br />
          <input type="button" id="loginOk" class="okButton" value="Ok" />
          <input type="button" id="loginCancel" class="cancelButton" value="Cancel" />
     </div>

      <!-- ----------------------------------- --> 

     <div class="contentArea" id="pageDrug">    
         <span class="pageTitle">Select Drug</span>
         <div style="height:10px;"></div>
          <br />

          <div data-role="page"  id="drugs" style="width:80%; text-align:center; position:relative; left:10%; top:0px; background-color:white;">
                <fieldset data-role="controlgroup" id="drugFieldList" name="drugs">
                    <legend></legend>
                    <input type="checkbox" name="aos-1" id="aos-1"class=""/>
                    <label for="aos-1" class="">Panadol</label>
                    <input type="checkbox" name="aos-1" id="aos-2"class=""/>
                    <label for="aos-2" class="">Kittens</label>
                    <input type="checkbox" name="aos-3" id="aos-3"class=""/>
                    <label for="aos-3" class="">Beer</label>
                </fieldset>
            
        </div>
         
          <br />
          <input type="button" id="selDrugOk" class="okButton" value="Continue" />
          <input type="button" id="selDrugCancel" class="cancelButton" value="Back" />

     </div>

      <!-- ----------------------------------- --> 

      <div class="contentArea" id="pagePharmacy">    
          <span class="pageTitle">Select Pharmacy</span>
         
          <br />

          <div style="background-color:white; width:80%; text-align:left;  border: 1px solid silver; margin-left:10%; padding:1px;">
              
                   <div style="background-color:#597bc3;padding-left:5px;">
                       <span class="pageText" style="font-size:12pt; font-weight:normal; color:white">
                            Ascot Vale Pharmacy
                       </span>
                  </div>

                  <div style="background-color:white; padding-left:5px;">
                              <span class="pageText" style="font-size:12pt;">
                            Priceline Pharmacy
                       </span>
                  </div>
                  <div style="background-color:white; padding-left:5px;">
                      <span class="pageText" style="font-size:12pt;">
                            Terry White Pharmacy
                       </span>
                  </div>
                   <div style="background-color:white; padding-left:5px;">
                       <span class="pageText" style="font-size:12pt;">
                            Amcal Pharmacy
                       </span>
                  </div>
          
          </div>
           
       

          <br />
         
         <input type="button" id="selPharmacyOk" class="okButton" value="Continue" />
         <input type="button" id="selPharmacyCancel" class="cancelButton" value="Back" />
     </div>

      <!-- ----------------------------------- --> 

     <div class="contentArea" id="pageConfirm">    
         
         <span class="pageTitle">Confirm Request</span>

         <div style="height:30px;"></div>

         <span class="pageText" style="width:120px;">Message to Pharmacy</span><br />
         <textarea class="message" id="mesage" cols="25" rows="4">hand over the drugs please</textarea>
         <br />
         <br />
         <span class="pageText">Pickup Date</span> <br />
         <input type="text" id="pickupDate" value="8 May 2013" style="width:80px;" />
          <br />
         <br />
         <span class="pageText">Pickup Time&nbsp;</span><br />
          <input type="text" id="pickupTime" value="2:30pm" style="width:80px;" />
          <br />
          <br />
          <input type="button" id="confirmOk" class="okButton" value="Submit" />
          <input type="button" id="confirmCancel" class="cancelButton" value="Back" />

     </div>

      <!-- ----------------------------------- --> 
     

      <div class="contentArea" id="pageCompleted">    
         
         <span class="pageTitle">Request sent</span>

         <div style="height:30px;"></div>

         <span class="pageText" style="width:120px;">Your request hase been sent to the following pharmacy:<br />
             <br />
             <b>Ascot Vale Pharmacy</b><br /><br />
             67-69 Union Rd<br />
             ASCOT VALE VIC 3032 <br />
             <br />
             Pickup: 8 May 2013 2:30pm<br />
             <br />
          </span>
          
          <input type="button" id="completedOk" class="okButton" value="Home" />
          

     </div>

      <!-- ----------------------------------- --> 


      <div class="contentArea" id="pageSettings">    
          <span class="pageTitle">Confirm Settings</span>

          <br />
          <br />
          <br />
          <input type="button" id="settingsClose" class="dialogButton" value="Back" />
     </div>

      <!-- ----------------------------------- --> 
      <!-- ----------------------------------- --> 
    
    <script>
        //ScannedSCID
        $("#scanCode").click(function (event) {
            ScanCode();
        });

        $("#getScriptId").click(function (event) {
            GetScriptId();
        });

        $("#getScriptDetails").click(function (event) {
            GetScriptDetails();
        });

        function ScanCode() {
            // show scanned SCID, ID


            hideElement("InfoSCID");
            hideElement("InfoScriptId");

            $("#InfoSCID").text('Script: ' + $('#SCID').val());
            $("#InfoScriptId").text('Id: ' + $('#ScriptId').val());

            $("#scanCode").text('Id: ' + $('#ScriptId').val());
            hideElement("scanCode");
            showElement("selectDrug");
        }


        function GetScriptId() {

            alert("Get Script Id for " + $('#deviceId').val() + " " + $('#SCID').val());

            $.ajax({
                type: "GET",
                async: "false",
                //url: "http://6082ade8bf5f4339aa46229bed13fa85.cloudapp.net/erxExpressService.svc/RequestScript",
                // data: '{"deviceId":"' + $('#deviceId').val() + '", "scriptID":"' + $('#SCID').val() + '"}',
                //data: 'deviceId=' + $('#deviceId').val() + '&scriptID=' + $('#SCID').val(),
                // url: "http://6082ade8bf5f4339aa46229bed13fa85.cloudapp.net/erxExpressService.svc/RequestScript?deviceId=12345&scriptID=124423",
                url: "http://6082ade8bf5f4339aa46229bed13fa85.cloudapp.net/erxExpressConsumer/GetScriptData/?deviceId=ryanmoore-lap&QueueId=3",
                data: {},
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                // processData: true,
                success: function (msg) {
                    AjaxSucceeded(msg);
                },
                error: AjaxFailed
            });

            alert("done");
        }


        function GetScriptDetails() {

            alert("Get Script Details Id for " + $('#deviceId').val() + " " + $('#ScriptId').val());

            $.ajax({
                type: "GET",
                async: "false",
                url: "http://6082ade8bf5f4339aa46229bed13fa85.cloudapp.net/erxExpressService.svc/GetScriptData",
                data: '{"DeviceId":"' + $('#deviceId').val() + '", "ScriptID":"' + $('#ScriptId').val() + '"}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    AjaxSucceeded(msg);
                },
                error: AjaxFailed
            });

            alert("done");
        }

        function AjaxSucceeded(result) {
            alert(result.d);
        }

        function AjaxFailed(result) {
            alert('Failed: ' + result.status + ' ' + result.statusText);
        }

        // -----------------------------------------

        function pageInit() {
            hide_all_containers(1);

            // ShowDrugs();
            
            // show_container("pagePharmacy");
            // show_container("pageConfirm");
        }

        function hide_container(id) {
            $("#" + id).fadeTo(100, 0);
            $("#" + id).hide();

            // $('#pageDrug').css('visibility', 'visible');
        }

        function show_container(id) {
            $("#" + id).fadeTo(200, 1);
            
        }

        function hideElement(id) {
            $('#' + id).css('visibility', 'hidden');
        }

        function showElement(id) {
            $('#' + id).css('visibility', 'visible');
        }


        function hide_all_containers(init) {

            if (init != 1) {
                hide_container("pageHome");
            }
            
            hide_container("pageLogin");
            hide_container("pageDrug");
            hide_container("pagePharmacy");
            hide_container("pageConfirm");
            hide_container("pageCompleted");
            hide_container("pageSettings");

        }

        <!-- ------------------------------------------------------ -->

        
        $("#logo").click(function () {
            homePage();    
        });
        

        <!-- ------------------------------------------------------ -->

        $("#signIn").click(function () {
            hide_all_containers();

            show_container("pageLogin");

            // hideElement("signIn");
        });

        $("#loginCancel").click(function () {
            // alert('Cancel');
            hide_all_containers();
            show_container("pageHome");
            ShowElement("signIn");
        });

        $("#loginOk").click(function () {
            // alert('ok');
            hide_all_containers();

            // show_container("pageHome");
            //ShowElement("signOut");

            show_container("pageCompleted");

        });


        function clearScript() {

            $("#InfoSCID").text("");
            $("#InfoScriptId").text("");
        }
        
        
        $("#selDrugHome").click(function () {
            homePage();
        });

        function homePage() {
            hide_all_containers();
            clearScript();

            hideElement("selectDrug");
            showElement("scanCode");

            show_container("pageHome");
        }


        <!-- ----------------------------------------  -->

        $("#selectDrug").click(function () {
            ShowDrugs();
        });

        $("#selDrugHome").click(function () {
            homePage();
        });

        $("#selDrugOk").click(function () {
            hide_all_containers();
            show_container("pagePharmacy");
        });
        
        $("#selDrugCancel").click(function () {
            homePage();
        });

        function ShowDrugs() {
            hide_all_containers();
            show_container("pageDrug");
        }



        $("#selPharmacyOk").click(function () {
            hide_all_containers();
            show_container("pageConfirm");
        });

        $("#selPharmacyCancel").click(function () {
            hide_all_containers();
            show_container("pageDrug");
        });

        $("#confirmOk").click(function () {
            hide_all_containers();
            show_container("pageLogin");
            // show_container("pageCompleted");
        });
        
        $("#confirmCancel").click(function () {
            hide_all_containers();
            show_container("pagePharmacy");
        });


        $("#completedOk").click(function () {
            homePage();
            
        });

        
        
    </script>




  </body>
</html>
